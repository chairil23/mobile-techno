<!--
  Generated template for the ProfilePage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>My Orders</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding class="my-order common-bg">
    <div class="card light-bg" margin-top *ngFor="let order of orders; let orderIndex = index">
      <div class="card-header" padding>
        <div>Order Id: {{ order.kode_invoice }}</div>
        <div>Order Time: {{ order.created_at }}</div>
        
      </div>
  
      <ion-list class="list-full-border list-products" no-margin>
        <ion-item class="product" *ngFor="let item of order.orders; let i = index" (click)="pembayaran(order)">
            <ion-thumbnail item-left *ngIf="item.product.images.length">
                <img src="http://{{ip}}/uploads/{{ item.product.images[0].images }}">
              </ion-thumbnail>
          <!--item's information-->
          <div>
              <div text-wrap>{{ item?.product.jdl_Pdk }}</div>
              <div padding-bottom>
                  <span class="pull-left" ion-text color="danger">{{ item.harga + item.product.harga_awal | currency:'Rp  ':true }} </span>
                  <span class="pull-right" ion-text>  x {{item.kuantitas}}</span>
                  <div class="clear"></div>
              </div>
              <h6 text-wrap>
                {{option(item)}}
              </h6>
          </div>
        </ion-item>
      </ion-list>
  
      <div class="card-footer" padding>
        <div>
          <span class="pull-left" ion-text color="gray">Total Produk</span>
          <span class="pull-right bold" ion-text color="danger">{{ total(order.orders)| currency:'Rp  ':true }}</span>
          <div class="clear"></div>
          <div>
            <span class="pull-left" ion-text color="gray">Shipping</span>
            <span class="pull-right" ion-text color="gray">{{ order.biaya_kurir | currency:'Rp  ':true }}</span>
            <div class="clear"></div>
          </div>
          <div>
            <span class="pull-left" ion-text color="gray">Total</span>
            <span class="pull-right" ion-text color="gray">{{ order.biaya_kurir +  total(order.orders)| currency:'Rp  ':true }}</span>
            <div class="clear"></div>
          </div>
          <p>Belum dibayar</p>
        </div>
      </div>
  
    </div>
  </ion-content>
  
